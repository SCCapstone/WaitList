{"version":3,"sources":["meteor://ðŸ’»app/lib/router.js","meteor://ðŸ’»app/imports/api/students.js","meteor://ðŸ’»app/server/main.js"],"names":["Router","onBeforeAction","Meteor","userId","render","route","Mongo","module","import","v","Students","Collection","StudentSchema","SimpleSchema","Name","type","String","max","PhoneNumber","VipID","ReasonForVisit","allowedValues","autoform","afFieldInput","firstOption","CurrentMajor","IntendedMajor","Comments","optional","Disclaimer","Boolean","label","createdAt","Date","autoValue","attachSchema","startup","methods","sendSMS","authToken","accountSid","twilio","Twilio","sendSms","to","from","body","err","responseData","console","log"],"mappings":";;;;;;;;AAAAA,OAAOC,cAAP,CAAsB,YAAY;AAC9B,QAAG,CAACC,OAAOC,MAAP,EAAJ,EAAoB;AAChB,aAAKC,MAAL,CAAY,MAAZ;AACH,KAFD,MAEK;AACD,aAAKA,MAAL,CAAY,WAAZ;AACH;AACJ,CAND;AAQAJ,OAAOK,KAAP,CAAa,GAAb,EAAkB,YAAU;AAEpB,SAAKD,MAAL,CAAY,MAAZ;AAEH,CAJL,mG;;;;;;;;;;;ACRA,IAAIE,cAAJ;AAAUC,OAAOC,MAAP,CAAc,cAAd,EAA6B;AAAC,aAAQ,UAASC,CAAT,EAAW;AAACH,gBAAMG,CAAN;AAAQ;AAA7B,CAA7B,EAA4D,CAA5D;AAIVC,WAAW,IAAIJ,MAAMK,UAAV,CAAqB,UAArB,CAAX;AAEAC,gBAAgB,IAAIC,YAAJ,CAAiB;AAC7BC,UAAM;AACFC,cAAMC,MADJ;AAEFC,aAAK;AAFH,KADuB;AAM7BC,iBAAa;AACTH,cAAMC,MADG;AAETC,aAAK;AAFI,KANgB;AAY7BE,WAAO;AACHJ,cAAMC,MADH;AAEHC,aAAK;AAFF,KAZsB;AAiB7BG,oBAAgB;AACZL,cAAMC,MADM;AAEZK,uBAAe,CAAC,cAAD,EAAiB,iBAAjB,EAAoC,OAApC,CAFH;AAGZC,kBAAU;AACNC,0BAAc;AACVC,6BAAa;AADH;AADR;AAHE,KAjBa;AA2B7BC,kBAAc;AACVV,cAAMC,MADI;AAEVC,aAAK;AAFK,KA3Be;AAgC7BS,mBAAe;AACXX,cAAMC,MADK;AAEXC,aAAK;AAFM,KAhCc;AAqC7BU,cAAU;AACNZ,cAAMC,MADA;AAENC,aAAK,GAFC;AAGNW,kBAAU;AAHJ,KArCmB;AA2C7BC,gBAAY;AACRd,cAAMe,OADE;AAERF,kBAAU,IAFF;AAGRN,kBAAU;AACNC,0BAAc;AACVR,sBAAM;AADI;AADR,SAHF;AAQRgB,eAAO;AARC,KA3CiB;AAqD7BC,eAAW;AACPjB,cAAMkB,IADC;AAEPX,kBAAU;AACNP,kBAAM,QADA;AAENgB,mBAAO;AAFD,SAFH;AAMPG,mBAAU,YAAU;AAChB,mBAAO,IAAID,IAAJ,EAAP;AACH;AARM;AArDkB,CAAjB,CAAhB;AAiEAvB,SAASyB,YAAT,CAAsBvB,aAAtB,iE;;;;;;;;;;;ACvEA,IAAIV,eAAJ;AAAWK,OAAOC,MAAP,CAAc,eAAd,EAA8B;AAAC,cAAS,UAASC,CAAT,EAAW;AAACP,iBAAOO,CAAP;AAAS;AAA/B,CAA9B,EAA+D,CAA/D;AAAkEF,OAAOC,MAAP,CAAc,4BAAd;AAG7EN,OAAOkC,OAAP,CAAe,YAAM,CAEpB,CAFD;AAIAlC,OAAOmC,OAAP,CAAe;AACXC,aAAS,YAAY;AACjB,YAAIC,YAAY,kCAAhB;AACA,YAAIC,aAAa,oCAAjB;AACAC,iBAASC,OAAOF,UAAP,EAAmBD,SAAnB,CAAT;AACAE,eAAOE,OAAP,CAAe;AACXC,gBAAI,cADO;AACS;AACpBC,kBAAM,cAFK;AAEW;AACtBC,kBAAM,qCAHK,CAGiC;;AAHjC,SAAf,EAIG,UAAUC,GAAV,EAAeC,YAAf,EAA6B;AAAE;AAC9B,gBAAI,CAACD,GAAL,EAAU;AAAE;AACR;AACA;AACA;AACAE,wBAAQC,GAAR,CAAYF,aAAaH,IAAzB,EAJM,CAI0B;;AAChCI,wBAAQC,GAAR,CAAYF,aAAaF,IAAzB,EALM,CAK0B;AACnC;AACJ,SAZD;AAaH;AAlBU,CAAf,kG","file":"/app.js","sourcesContent":["Router.onBeforeAction(function () {\n    if(!Meteor.userId()){\n        this.render('home');\n    }else{\n        this.render('adminPage');\n    }\n});\n\nRouter.route('/', function(){\n\n        this.render(\"home\");\n\n    }\n);","import { Mongo } from 'meteor/mongo';\n\n\n\nStudents = new Mongo.Collection('students');\n\nStudentSchema = new SimpleSchema({\n    Name: {\n        type: String,\n        max: 50\n    },\n\n    PhoneNumber: {\n        type: String,\n        max: 10\n\n    },\n\n    VipID: {\n        type: String,\n        max: 8\n    },\n\n    ReasonForVisit: {\n        type: String,\n        allowedValues: [\"Change Major\", \"Add Major/Minor\", \"Other\"],\n        autoform: {\n            afFieldInput: {\n                firstOption: \"(Select a Reason)\"\n            }\n        }\n    },\n\n    CurrentMajor: {\n        type: String,\n        max: 30\n    },\n\n    IntendedMajor: {\n        type: String,\n        max: 30\n    },\n\n    Comments: {\n        type: String,\n        max: 300, \n        optional: true\n    },\n\n    Disclaimer: {\n        type: Boolean,\n        optional: true,\n        autoform: {\n            afFieldInput: {\n                type: \"boolean-checkbox\",\n            }\n        },\n        label: \"Opt in for text service\"\n    },\n    createdAt: {\n        type: Date,\n        autoform: {\n            type: \"hidden\",\n            label: false\n        },\n        autoValue:function(){ \n            return new Date(); \n        }\n    }\n});\n\nStudents.attachSchema(StudentSchema);\n\n\n\n\n\n","import { Meteor } from 'meteor/meteor';\nimport '../imports/api/students.js';\n\nMeteor.startup(() => {\n\n});\n\nMeteor.methods({\n    sendSMS: function () {\n        var authToken = '0a6a6ac11217bdb596caee261ecff997';\n        var accountSid = 'AC85d608588fd51f68a2d519e1f1ce2dc0';\n        twilio = Twilio(accountSid, authToken);\n        twilio.sendSms({\n            to: '+18645172771', // Any number Twilio can deliver to\n            from: '+18038280124', // A number you bought from Twilio and can use for outbound communication\n            body: 'You have been added to the waitlist' // body of the SMS message\n        }, function (err, responseData) { //this function is executed when a response is received from Twilio\n            if (!err) { // \"err\" is an error received during the request, if any\n                // \"responseData\" is a JavaScript object containing data received from Twilio.\n                // A sample response from sending an SMS message is here (click \"JSON\" to see how the data appears in JavaScript):\n                // http://www.twilio.com/docs/api/rest/sending-sms#example-1\n                console.log(responseData.from); // outputs \"+14506667788\"\n                console.log(responseData.body); // outputs \"word to your mother.\"\n            }\n        });\n    }\n});"]}